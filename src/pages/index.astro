---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';
import IdeaCard from '../components/IdeaCard.astro';

// Welcome to Astro! Wondering what to do next? Check out the Astro documentation at https://docs.astro.build
// Don't want to use any of this? Delete everything in this file, the `assets`, `components`, and `layouts` directories, and start fresh.

const ideas = await getCollection('ideas').then(ideas => ideas.sort((a, b) => new Date(b.data.addedDate).getTime() - new Date(a.data.addedDate).getTime()));

---

<Layout>
	<section class="mx-auto max-w-[1200px] px-7 sm:px-5 py-12">
		<div class="max-w-[780px]">
			<p class="text-accent-2 font-semibold tracking-wider mb-2">Hey friend</p>
			<h1 class="font-display text-balance text-[clamp(2rem,5vw,3rem)] mb-2">Ideas I want to exist</h1>
			<p class="text-muted max-w-prose mb-4">
				I keep a running list of playful, practical project ideas. Most I’ll never ship. So I’m sharing them — free for the taking. If one sparks joy, go build it. Bonus points for open source. Extra bonus points for a shoutout.
			</p>
			<p class="text-muted text-sm max-w-prose mb-3">
				While all ideas are original, some of the descriptions may have been iterated on with AI.
			</p>
			<p class="text-muted text-sm">
				<a href="/rss.xml" class="text-accent-2 hover:text-accent-1 transition-colors duration-[140ms] rounded-sm focus-visible:outline-2 focus-visible:outline-accent focus-visible:outline-offset-2">RSS feed available</a> for staying updated on new ideas.
			</p>
		</div>
	</section>

	<section id="ideas" class="mx-auto max-w-[1200px] px-7 sm:px-5 pb-16">
		<div class="grid [grid-template-columns:repeat(auto-fill,minmax(320px,1fr))] gap-4">
			{ideas.map(idea => (
				<IdeaCard idea={idea} />
			))}
		</div>
	</section>
</Layout>
